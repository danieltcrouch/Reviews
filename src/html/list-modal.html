<link rel="stylesheet" type="text/css" href="https://religionandstory.com/common/css/modal.css"/>

<div id="listModal" class="modal-wrapper">
    <div class="modal-foreground">
        <div class="modal-box">
            <div class="modal-header">
                <span id="modalHeader" class="subtitle">Ranking Lists</span>
                <span id="close" class="close">&times;</span>
            </div>
            <div id="modalBody" class="modal-body center">Choose the relevant list:</div>
            <div id="modalSubmit" class="modal-submit center">
                <button id="dButton" class="button" style="width: 10em" onclick="setListCallback('Disney')">Disney</button>
                <button id="mButton" class="button" style="width: 10em" onclick="setListCallback('Marvel')">Marvel</button>
                <button id="sButton" class="button" style="width: 10em" onclick="setListCallback('StarWars')">Star Wars</button>
            </div>
        </div>
    </div>
    <div class="modal-background"></div>
</div>

<script>
    var listCallback;

    function openListModal( callback )
    {
        var modal = $('#listModal');
        modal.show();
        setCloseHandlers( modal );
        blurBackground();

        listCallback = callback;
    }

    function setListCallback( answer )
    {
        closeModal( $('#listModal') );

        $('#list').val( getDisplayListName( answer ) );

        getFullList();
    }

    function getFullList()
    {
        $.post(
            "php/reviews.php",
            { action: "get" + getListName( $('#list').val() ) + "List" },
            function( response ) {
                listCallback( JSON.parse( response ) );
            }
        );
    }
</script>